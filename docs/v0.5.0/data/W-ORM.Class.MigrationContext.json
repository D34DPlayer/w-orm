{"id":177,"name":"MigrationContext","kind":128,"kindString":"Class","flags":{},"comment":{"summary":[{"kind":"text","text":"Context passed to migrations."}],"blockTags":[{"tag":"@see","content":[{"kind":"inline-tag","tag":"@link","text":"MigrationList","target":84},{"kind":"text","text":": For more information on migrations"}]}]},"children":[{"id":178,"name":"constructor","kind":512,"kindString":"Constructor","flags":{},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":18,"character":2,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L18"}],"signatures":[{"id":179,"name":"constructor","kind":16384,"kindString":"Constructor signature","flags":{},"comment":{"summary":[{"kind":"text","text":"Should be created during a version change transaction."}]},"parameters":[{"id":180,"name":"db","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The database connection"}]},"type":{"type":"reference","name":"IDBDatabase","qualifiedName":"IDBDatabase","package":"@types/web"},"text":{"comment":"<p>The database connection</p>\n"}},{"id":181,"name":"tx","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The transaction"}]},"type":{"type":"reference","name":"IDBTransaction","qualifiedName":"IDBTransaction","package":"@types/web"},"text":{"comment":"<p>The transaction</p>\n"}},{"id":182,"name":"migrations","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The migrations to run"}]},"type":{"type":"reference","id":84,"name":"MigrationList"},"text":{"comment":"<p>The migrations to run</p>\n"}}],"type":{"type":"reference","id":177,"name":"MigrationContext"},"is":{"declaration":false},"location":{"query":"W-ORM.MigrationContext.Constructor.constructor","hash":"constructor.new MigrationContext"},"text":{"comment":"<p>Should be created during a version change transaction.</p>\n"},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":18,"character":2,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L18"}],"parentId":178}],"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"constructor"},"text":{},"parentId":177},{"id":184,"name":"db","kind":1024,"kindString":"Property","flags":{"isPublic":true},"comment":{"summary":[{"kind":"text","text":"The database connection"}]},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":19,"character":11,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L19"}],"type":{"type":"reference","name":"IDBDatabase","qualifiedName":"IDBDatabase","package":"@types/web"},"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"db"},"text":{"comment":"<p>The database connection</p>\n"},"parentId":177},{"id":183,"name":"migrations","kind":1024,"kindString":"Property","flags":{"isPrivate":true},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":10,"character":10,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L10"}],"type":{"type":"array","elementType":{"type":"reference","id":176,"name":"MigrationItem"}},"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"migrations"},"text":{},"parentId":177},{"id":185,"name":"tx","kind":1024,"kindString":"Property","flags":{"isPublic":true},"comment":{"summary":[{"kind":"text","text":"The transaction"}]},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":20,"character":11,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L20"}],"type":{"type":"reference","name":"IDBTransaction","qualifiedName":"IDBTransaction","package":"@types/web"},"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"tx"},"text":{"comment":"<p>The transaction</p>\n"},"parentId":177},{"id":190,"name":"tables","kind":262144,"kindString":"Accessor","flags":{},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":50,"character":6,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L50"}],"getSignature":{"id":191,"name":"tables","kind":524288,"kindString":"Get signature","flags":{},"comment":{"summary":[{"kind":"text","text":"List of tables currently in the database."}]},"type":{"type":"array","elementType":{"type":"intrinsic","name":"string"}},"text":{"comment":"<p>List of tables currently in the database.</p>\n"}},"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"tables"},"text":{},"parentId":177},{"id":192,"name":"deleteTable","kind":2048,"kindString":"Method","flags":{"isPublic":true},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":58,"character":9,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L58"}],"signatures":[{"id":193,"name":"deleteTable","kind":4096,"kindString":"Call signature","flags":{},"comment":{"summary":[{"kind":"text","text":"Deletes a table from the database."}]},"parameters":[{"id":194,"name":"name","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The table's name"}]},"type":{"type":"intrinsic","name":"string"},"text":{"comment":"<p>The table&#39;s name</p>\n"}}],"type":{"type":"intrinsic","name":"void"},"is":{"declaration":false},"location":{"query":"W-ORM.MigrationContext.Method.deleteTable","hash":"deleteTable.deleteTable"},"text":{"comment":"<p>Deletes a table from the database.</p>\n"},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":58,"character":2,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L58"}],"parentId":192}],"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"deleteTable"},"text":{},"parentId":177},{"id":186,"name":"runMigrations","kind":2048,"kindString":"Method","flags":{"isPublic":true},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":36,"character":15,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L36"}],"signatures":[{"id":187,"name":"runMigrations","kind":4096,"kindString":"Call signature","flags":{},"comment":{"summary":[{"kind":"text","text":"Runs the migrations between the old and new version."}]},"parameters":[{"id":188,"name":"oldVersion","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The old version"}]},"type":{"type":"intrinsic","name":"number"},"text":{"comment":"<p>The old version</p>\n"}},{"id":189,"name":"newVersion","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The new version"}]},"type":{"type":"union","types":[{"type":"literal","value":null},{"type":"intrinsic","name":"number"}]},"text":{"comment":"<p>The new version</p>\n"}}],"type":{"type":"reference","typeArguments":[{"type":"intrinsic","name":"void"}],"name":"Promise","qualifiedName":"Promise","package":"typescript"},"is":{"declaration":false},"location":{"query":"W-ORM.MigrationContext.Method.runMigrations","hash":"runMigrations.runMigrations"},"text":{"comment":"<p>Runs the migrations between the old and new version.</p>\n"},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":36,"character":2,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L36"}],"parentId":186}],"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"runMigrations"},"text":{},"parentId":177}],"groups":[{"title":"Constructors","children":[178]},{"title":"Properties","children":[184,183,185]},{"title":"Accessors","children":[190]},{"title":"Methods","children":[192,186]}],"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":9,"character":13,"url":"https://github.com/D34DPlayer/w-orm/blob/d03bd3b/src/migration.ts#L9"}],"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":""},"text":{"comment":"<p>Context passed to migrations.</p>\n<h5>See:</h5><p><a href=\"84\">MigrationList</a>: For more information on migrations</p>\n"},"parentId":1,"hierarchy":[{"name":"MigrationContext","isTarget":true,"linkId":"177"}]}
