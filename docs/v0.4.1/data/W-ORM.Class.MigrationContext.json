{"id":129,"name":"MigrationContext","kind":128,"kindString":"Class","flags":{},"comment":{"summary":[{"kind":"text","text":"Context passed to migrations."}],"blockTags":[{"tag":"@see","content":[{"kind":"inline-tag","tag":"@link","text":"MigrationList","target":67},{"kind":"text","text":": For more information on migrations"}]}]},"children":[{"id":130,"name":"constructor","kind":512,"kindString":"Constructor","flags":{},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":18,"character":2,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L18"}],"signatures":[{"id":131,"name":"constructor","kind":16384,"kindString":"Constructor signature","flags":{},"comment":{"summary":[{"kind":"text","text":"Should be created during a version change transaction."}]},"parameters":[{"id":132,"name":"db","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The database connection"}]},"type":{"type":"reference","name":"IDBDatabase","qualifiedName":"IDBDatabase","package":"@types/web"},"text":{"comment":"<p>The database connection</p>\n"}},{"id":133,"name":"tx","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The transaction"}]},"type":{"type":"reference","name":"IDBTransaction","qualifiedName":"IDBTransaction","package":"@types/web"},"text":{"comment":"<p>The transaction</p>\n"}},{"id":134,"name":"migrations","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The migrations to run"}]},"type":{"type":"reference","id":67,"name":"MigrationList"},"text":{"comment":"<p>The migrations to run</p>\n"}}],"type":{"type":"reference","id":129,"name":"MigrationContext"},"is":{"declaration":false},"location":{"query":"W-ORM.MigrationContext.Constructor.constructor","hash":"constructor.new MigrationContext"},"text":{"comment":"<p>Should be created during a version change transaction.</p>\n"},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":18,"character":2,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L18"}],"parentId":130}],"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"constructor"},"text":{},"parentId":129},{"id":136,"name":"db","kind":1024,"kindString":"Property","flags":{"isPublic":true},"comment":{"summary":[{"kind":"text","text":"The database connection"}]},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":18,"character":21,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L18"}],"type":{"type":"reference","name":"IDBDatabase","qualifiedName":"IDBDatabase","package":"@types/web"},"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"db"},"text":{"comment":"<p>The database connection</p>\n"},"parentId":129},{"id":135,"name":"migrations","kind":1024,"kindString":"Property","flags":{"isPrivate":true},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":10,"character":10,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L10"}],"type":{"type":"array","elementType":{"type":"reference","name":"MigrationItem"}},"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"migrations"},"text":{},"parentId":129},{"id":137,"name":"tx","kind":1024,"kindString":"Property","flags":{"isPublic":true},"comment":{"summary":[{"kind":"text","text":"The transaction"}]},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":18,"character":45,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L18"}],"type":{"type":"reference","name":"IDBTransaction","qualifiedName":"IDBTransaction","package":"@types/web"},"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"tx"},"text":{"comment":"<p>The transaction</p>\n"},"parentId":129},{"id":142,"name":"tables","kind":262144,"kindString":"Accessor","flags":{},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":43,"character":6,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L43"}],"getSignature":{"id":143,"name":"tables","kind":524288,"kindString":"Get signature","flags":{},"comment":{"summary":[{"kind":"text","text":"List of tables currently in the database."}]},"type":{"type":"array","elementType":{"type":"intrinsic","name":"string"}},"text":{"comment":"<p>List of tables currently in the database.</p>\n"}},"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"tables"},"text":{},"parentId":129},{"id":144,"name":"deleteTable","kind":2048,"kindString":"Method","flags":{"isPublic":true},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":51,"character":9,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L51"}],"signatures":[{"id":145,"name":"deleteTable","kind":4096,"kindString":"Call signature","flags":{},"comment":{"summary":[{"kind":"text","text":"Deletes a table from the database."}]},"parameters":[{"id":146,"name":"name","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The table's name"}]},"type":{"type":"intrinsic","name":"string"},"text":{"comment":"<p>The table&#39;s name</p>\n"}}],"type":{"type":"intrinsic","name":"void"},"is":{"declaration":false},"location":{"query":"W-ORM.MigrationContext.Method.deleteTable","hash":"deleteTable.deleteTable"},"text":{"comment":"<p>Deletes a table from the database.</p>\n"},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":51,"character":2,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L51"}],"parentId":144}],"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"deleteTable"},"text":{},"parentId":129},{"id":138,"name":"runMigrations","kind":2048,"kindString":"Method","flags":{"isPublic":true},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":30,"character":15,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L30"}],"signatures":[{"id":139,"name":"runMigrations","kind":4096,"kindString":"Call signature","flags":{},"comment":{"summary":[{"kind":"text","text":"Runs the migrations between the old and new version."}]},"parameters":[{"id":140,"name":"oldVersion","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The old version"}]},"type":{"type":"intrinsic","name":"number"},"text":{"comment":"<p>The old version</p>\n"}},{"id":141,"name":"newVersion","kind":32768,"kindString":"Parameter","flags":{},"comment":{"summary":[{"kind":"text","text":"The new version"}]},"type":{"type":"union","types":[{"type":"literal","value":null},{"type":"intrinsic","name":"number"}]},"text":{"comment":"<p>The new version</p>\n"}}],"type":{"type":"reference","typeArguments":[{"type":"intrinsic","name":"void"}],"name":"Promise","qualifiedName":"Promise","package":"typescript"},"is":{"declaration":false},"location":{"query":"W-ORM.MigrationContext.Method.runMigrations","hash":"runMigrations.runMigrations"},"text":{"comment":"<p>Runs the migrations between the old and new version.</p>\n"},"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":30,"character":2,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L30"}],"parentId":138}],"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":"runMigrations"},"text":{},"parentId":129}],"groups":[{"title":"Constructors","children":[130]},{"title":"Properties","children":[136,135,137]},{"title":"Accessors","children":[142]},{"title":"Methods","children":[144,138]}],"sources":[{"fileName":"migration.ts","fullFileName":"/home/runner/work/w-orm/w-orm/src/migration.ts","line":9,"character":13,"url":"https://github.com/D34DPlayer/w-orm/blob/f565d3b/src/migration.ts#L9"}],"is":{"declaration":true},"location":{"query":"W-ORM.Class.MigrationContext","hash":""},"text":{"comment":"<p>Context passed to migrations.</p>\n<h5>See:</h5><p><a href=\"67\">MigrationList</a>: For more information on migrations</p>\n"},"parentId":1,"hierarchy":[{"name":"MigrationContext","isTarget":true,"linkId":"129"}]}
